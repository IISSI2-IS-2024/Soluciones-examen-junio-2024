{"ast":null,"code":"import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _wrapNativeSuper from \"@babel/runtime/helpers/wrapNativeSuper\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ApiError = function (_Error) {\n  _inherits(ApiError, _Error);\n  var _super = _createSuper(ApiError);\n  function ApiError(message, code) {\n    var _this;\n    _classCallCheck(this, ApiError);\n    _this = _super.call(this, message);\n    _this.code = code;\n    return _this;\n  }\n  return _createClass(ApiError);\n}(_wrapNativeSuper(Error));\nvar ValidationError = function (_Error2) {\n  _inherits(ValidationError, _Error2);\n  var _super2 = _createSuper(ValidationError);\n  function ValidationError(message, code, errors) {\n    var _this2;\n    _classCallCheck(this, ValidationError);\n    _this2 = _super2.call(this, message);\n    _this2.code = code;\n    _this2.errors = errors;\n    return _this2;\n  }\n  return _createClass(ValidationError);\n}(_wrapNativeSuper(Error));\nvar LoginError = function (_Error3) {\n  _inherits(LoginError, _Error3);\n  var _super3 = _createSuper(LoginError);\n  function LoginError(errors) {\n    var _this3;\n    _classCallCheck(this, LoginError);\n    _this3 = _super3.call(this, 'Invalid credentials');\n    _this3.code = 401;\n    _this3.errors = errors;\n    return _this3;\n  }\n  return _createClass(LoginError);\n}(_wrapNativeSuper(Error));\nfunction handleError(error) {\n  if (!error.response) {\n    throw new ApiError(error.message);\n  }\n  if (error.response.status === 422) {\n    throw new ValidationError(error.response.statusText, error.response.status, error.response.data.errors);\n  } else if (error.response.status === 401 && error.response.config.url.includes('/login')) {\n    throw new LoginError(error.response.data.errors);\n  } else {\n    throw new ApiError(error.response.statusText || error.message, error.response.status);\n  }\n}\nexport { ApiError, ValidationError, LoginError, handleError };","map":{"version":3,"names":["ApiError","message","code","Error","ValidationError","errors","LoginError","handleError","error","response","status","statusText","data","config","url","includes"],"sources":["/Users/luismi/Proyectos/Examenes/DeliverUS-Frontend-Owner/src/api/helpers/Errors.js"],"sourcesContent":["class ApiError extends Error {\n  constructor (message, code) {\n    super(message)\n    this.code = code\n  }\n}\nclass ValidationError extends Error {\n  constructor (message, code, errors) {\n    super(message)\n    this.code = code\n    this.errors = errors\n  }\n}\nclass LoginError extends Error {\n  constructor (errors) {\n    super('Invalid credentials')\n    this.code = 401\n    this.errors = errors\n  }\n}\n\nfunction handleError (error) {\n  if (!error.response) {\n    throw new ApiError(error.message)\n  }\n  if (error.response.status === 422) {\n    throw new ValidationError(error.response.statusText, error.response.status, error.response.data.errors)\n  } else if (error.response.status === 401 && error.response.config.url.includes('/login')) {\n    throw new LoginError(error.response.data.errors)\n  } else {\n    throw new ApiError(error.response.statusText || error.message, error.response.status)\n  }\n}\n\nexport { ApiError, ValidationError, LoginError, handleError }\n"],"mappings":";;;;;;;;IAAMA,QAAQ;EAAA;EAAA;EACZ,kBAAaC,OAAO,EAAEC,IAAI,EAAE;IAAA;IAAA;IAC1B,0BAAMD,OAAO;IACb,MAAKC,IAAI,GAAGA,IAAI;IAAA;EAClB;EAAC;AAAA,mBAJoBC,KAAK;AAAA,IAMtBC,eAAe;EAAA;EAAA;EACnB,yBAAaH,OAAO,EAAEC,IAAI,EAAEG,MAAM,EAAE;IAAA;IAAA;IAClC,4BAAMJ,OAAO;IACb,OAAKC,IAAI,GAAGA,IAAI;IAChB,OAAKG,MAAM,GAAGA,MAAM;IAAA;EACtB;EAAC;AAAA,mBAL2BF,KAAK;AAAA,IAO7BG,UAAU;EAAA;EAAA;EACd,oBAAaD,MAAM,EAAE;IAAA;IAAA;IACnB,4BAAM,qBAAqB;IAC3B,OAAKH,IAAI,GAAG,GAAG;IACf,OAAKG,MAAM,GAAGA,MAAM;IAAA;EACtB;EAAC;AAAA,mBALsBF,KAAK;AAQ9B,SAASI,WAAW,CAAEC,KAAK,EAAE;EAC3B,IAAI,CAACA,KAAK,CAACC,QAAQ,EAAE;IACnB,MAAM,IAAIT,QAAQ,CAACQ,KAAK,CAACP,OAAO,CAAC;EACnC;EACA,IAAIO,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;IACjC,MAAM,IAAIN,eAAe,CAACI,KAAK,CAACC,QAAQ,CAACE,UAAU,EAAEH,KAAK,CAACC,QAAQ,CAACC,MAAM,EAAEF,KAAK,CAACC,QAAQ,CAACG,IAAI,CAACP,MAAM,CAAC;EACzG,CAAC,MAAM,IAAIG,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,IAAIF,KAAK,CAACC,QAAQ,CAACI,MAAM,CAACC,GAAG,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;IACxF,MAAM,IAAIT,UAAU,CAACE,KAAK,CAACC,QAAQ,CAACG,IAAI,CAACP,MAAM,CAAC;EAClD,CAAC,MAAM;IACL,MAAM,IAAIL,QAAQ,CAACQ,KAAK,CAACC,QAAQ,CAACE,UAAU,IAAIH,KAAK,CAACP,OAAO,EAAEO,KAAK,CAACC,QAAQ,CAACC,MAAM,CAAC;EACvF;AACF;AAEA,SAASV,QAAQ,EAAEI,eAAe,EAAEE,UAAU,EAAEC,WAAW"},"metadata":{},"sourceType":"module"}